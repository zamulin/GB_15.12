# Инструкция по работе с Git

## Что такое Git?

Git - это одна из реализаций распределенных систем контроля версий, имеющая как локальные, так и удаленные репозитории. Является самой популярной реализацией систем контроля версий в мире.


## Подготовка репозитория (git init)

Для создания репозитория необходимо выполнить команду *git init* в папке с репозиторием. В результате будет создан локальный репозиторий (появится скрытая папка .git).


## Просмотр состояния репозитория (git status)

Чтобы посмотреть состояние репозитория, используется команда  *git status*. Для этого необходимо в папке с репозиторием написать *git status*, и вы получите информацию о git и его текущем состоянии, были ли изменения в файлах или нет.


## Просмотр изменений файла (git diff)

Для просмотра разницы между текущим файлом (в котором были сделаны какие-то изменения, но они еще не "закоммичены", т.е. не отправлены в репозиторий) и закоммиченным файлом (состоянием файла после последнего коммита)  используется команда *git diff*.


## Просмотр истории изменений файлов репозитория (git log)

Для просмотра истории всех коммитов с их хеш-кодами используется команда *git log*.

Чтобы вывести на экран визуализацию (граф) истории всех коммитов, ветвлений и слияний, необходимо использовать команду *git log --graph*. 


## Добавление файлов к коммиту

Для того, чтобы Git начал отслеживать изменения в файлах, расположенных в папке репозитория, необходимо добавить эти файлы с помощью команды *git add*.
Команда *git add <имя файла>* добавляет файл к следующему коммиту.


## Создание коммитов

Коммит (commit) - подтверждение внесенных изменений и сохранение этих изменений в системе контроля версий. Чтобы осуществить коммит, необходимо нужным образом отредактировать файл, сохранить его в редакторе, а затем закоммитеть (выполнить команду *git commit*), т.е. сказать системе контроля версий, что текущее состояние, содержание файла - это теперь его актуальная версия.
Чтобы создать коммит, необходимо выполниь команду *git commit* (при этом соответствующий файл должен быть предварительно добавлен к коммиту командой *git add <имя файла>*) следующим образом:

*git commit -m "message"*

Рекомендуется всегда указывать message - осмысленное примечание, комментарий, описание сути внесенных изменений.

Если работа ведется с одним и тем же файлом, то после добавления его к первого коммиту можно не добавлять его снова отдельной командой, а использовать команду commit с флагом -a:

*git commit -a -m "message"*


## Переход между коммитами (различными версиями файла(ов))

Чтобы посмотреть содержание файла, соответствующее определенному коммиту, необходимо использовать команду *git checkout <код коммита>*, где <код коммита> - несколько первых символов кода соответствующего коммита.
Код коммита можно посмотреть командой *git log*.

*git checkout <код коммита>* осуществляет переход от одного коммита к другому по коду.

Вернуться к актуальной версии и продолжить работу нужно командой *git checkout master* 


## Переход к основной ветке / актуальной версии файла(ов)

Команда *git checkout master* позволяет вернуться к актуальному состоянию файла(ов) (последнему коммиту) основной ветки (master) репозитория.


## Просмотр веток (branch) репозитария

Ветки (branch) позволяют создавать альтарнативные версии проекта или отдельных файлов, осуществлять параллельные изменения файла(ов), а также организовать работу над проектом в многопользовательском режиме. 

Команда *git branch* позволяет посмотреть список веток в репозитории.

По умолчанию всегда существует основная ветка - master, она создается автоматически. Если было добавлено несколько веток, Git отобразит их списком, текущая ветка будет отмечена звездочкой (*) и, возможно, выделена цветом.


## Создание новой ветки (branch)

Команда *git branch <название ветки>* создает новую ветку с названием <название ветки>. 

Рекомендуется выбирать осмысленные названия веток на английском языке.


## Переход к другой ветке (branch) (параллельными версиями файла(ов))

Команда *git checkout <название ветки>* осуществляет переход (переключение) к другой ветке с названием <название ветки>. 

Названия веток можно посмотреть командой *git branch*.


## Удаление ветки (branch)

Команда *git branch -d <название ветки>* позвляет удалить ветку с названием <название ветки>. 

Если ветка не пуста (то есть там имеются коммиты, не слитые с другой веткой), то Git сообщит об этом и предложит сначала выполнить слияние, при этом ветка не будет удалена. Если в данной команде использовать флаг -D вместо -d, то ветка будет удалена без предупреждений в любом случае, поэтому рекомендуется всегда использовать флаг -d.


## Слияние веток (branch)

Слияние веток необходимо для объединения различных версий файла(ов) проекта, измененных в процессе многопользовательской работы.

Команда *git merge <название ветки>* позволяет слить ветку <название ветки> с текущей веткой.

В случае, если в текущей и сливаемой ветках были изменены одни и те же фрагменты файла(ов), могут возникать конфликты, которые необходимо разрешить одним из нескольких способов: 
* accept current change - оставить текущую версию (конфликтующие изменения из сливаемой ветки будут утеряны);
* accept incoming change - принять изменения (конфликтующие данные текущей ветки будут утеряны);
* accept both changes - оставить оба варианта (конфликтующие фрагменты будут расположены один за другим);
* compare changes - сравнить изменения (выборочно сохранить то или другое).

Решение принимает пользователь. После разрешения конфликта необходимо сохранить результат (сделать commit).


## Работа с удаленными репозиториями в git

### Копирование (клонирование) удаленного репозитория на локальный ПК

Команда *git clone <ссылка на удаленный репозиторий>* позволяет склонировать внешний репозиторий на наш ПК.	
Пример:

git clone https://github.com/zamulin/GB_15.12


### Копирование и объединение удаленного репозитория с локальным репозиторием

Команда *git pull* позволяет скачать все из текущего репозитория и автоматически сделать merge с текущей локальной версией.


### Отправка текущей локальной версии в удаленный репозиторий

Команда *git push* позволяет отправить нашу версию репозитория на внешний репозиторий. ТРЕБУЕТ АВТОРИЗАЦИИ на внешнем репозитории.


### Создание копии чужого удаленного репозитория

Команда (кнопка) *fork* позволяет создать копию чужого репозитория в своем аккаунте на GitHub.


### Отправка текущей версии копии чужого удаленного репозитория в исходный (чужой) репозиторий

Команда (кнопка) *pull request* позволяет отправить текущую версию нашей копию чужого репозитория в исходный (чужой) репозиторий.
